# プロダクト要求定義書

## プロダクトビジョンと目的

**ビジョン**
スワイプ操作と感情リアクションを中心に据えた、没入感の高いクイズ体験を提供する。

**目的**
- 直感的なスワイプUIにより、テンポよくクイズを楽しめるアプリを実現する
- 正解・不正解に応じたキャラクターリアクションで感情的な関与を高める
- 全問回答後のリザルト画面で解説をまとめて振り返れる設計により、プレイ中のテンポ感を損なわない
- 管理画面からシンプルにクイズを作成・管理できる仕組みを提供する

---

## ターゲットユーザーと課題・ニーズ

### ターゲットユーザー
- スマートフォンで隙間時間にコンテンツを楽しむユーザー（10代〜30代）
- 自分のコミュニティやフォロワー向けにクイズを作成・シェアしたいクリエイター

### 課題・ニーズ

| 課題 | ニーズ |
|---|---|
| 従来のクイズアプリはUIが単調で飽きやすい | テンポよく没入できるゲーム的なUX |
| タップだけでは操作に物足りなさを感じる | スワイプによる身体的な操作感 |
| 正誤フィードバックが味気ない | 感情的に反応するキャラクター演出 |
| 回答中に解説が表示されテンポが崩れる | 全問終了後にまとめて解説を振り返れる構成 |
| クイズ作成ツールが複雑 | 誰でも簡単に2択クイズを作れる管理画面 |

---

## 主要な機能一覧

### プレイヤー向け機能
1. **スワイプクイズプレイ** - カードを左右にスワイプして2択を選択
2. **感情リアクション** - 正解・不正解・スワイプ中に応じたキャラクター演出
3. **リザルト画面** - 全問回答後にスコアと全問の解説をまとめて表示

### 管理者向け機能
4. **クイズ作成** - 問題文・選択肢2つ・正解・解説を入力してクイズを作成
5. **クイズ一覧管理** - 作成済みクイズの確認・編集・削除
6. **クイズセット管理** - 複数の問題をまとめてセットとして管理

---

## 成功の定義

- スワイプ操作が直感的で、チュートリアルなしに理解できる
- キャラクターリアクションが演出として機能し、正誤の体験が感情的に記憶に残る
- プレイ中に解説が割り込まず、テンポよく全問を解き終えられる
- 管理者が5分以内に10問のクイズセットを作成できる

---

## ユーザーストーリー

### プレイヤー
- クイズプレイヤーとして、カードを左右にスワイプして直感的に回答したい。なぜなら、タップより動きのある操作が楽しいから
- クイズプレイヤーとして、正解したときにキャラクターが喜ぶ演出を見たい。なぜなら、達成感が高まるから
- クイズプレイヤーとして、不正解のときも前向きなリアクションが見たい。なぜなら、続けてプレイするモチベーションを保ちたいから
- クイズプレイヤーとして、プレイ中は次々と問題に集中したい。なぜなら、解説表示でテンポが崩れると没入感が失われるから
- クイズプレイヤーとして、全問回答後にスコアと各問の解説をまとめて確認したい。なぜなら、学びをまとめて振り返りたいから

### 管理者
- クイズ作成者として、問題文と2つの選択肢と正解と解説を入力してクイズを登録したい
- クイズ作成者として、作成したクイズの一覧を確認・編集・削除したい
- クイズ作成者として、複数の問題をまとめたクイズセットを作成・管理したい

---

## 受け入れ条件

### スワイプクイズプレイ
- [ ] カードを左右どちらかにドラッグすると、対応する選択肢がハイライトされる
- [ ] ドラッグ量に応じてカードが傾く（物理的な動きの表現）
- [ ] 一定距離を超えてスワイプすると回答が確定する
- [ ] スワイプ確定後、正誤フィードバック（キャラクターリアクション）が即座に表示される
- [ ] 次の問題カードが背後に積まれている様子が視認できる
- [ ] 全問回答後、リザルト画面へ遷移する

### 感情リアクション
- [ ] 正解時：キャラクターが喜ぶアニメーションと肯定的なエフェクトが再生される
- [ ] 不正解時：キャラクターが残念そうなアニメーションと慰めのエフェクトが再生される
- [ ] スワイプ操作中（ドラッグ中）：キャラクターがハラハラした表情になる
- [ ] 待機中（未操作時）：キャラクターが通常の表情を保つ

### リザルト画面
- [ ] 正解数・総問題数・正答率が表示される
- [ ] 全問分の「問題文・自分の回答・正解・解説」が一覧で表示される
- [ ] もう一度プレイするボタンが存在する
- [ ] トップ画面へ戻るボタンが存在する

### 管理画面
- [ ] 問題文・選択肢A・選択肢B・正解・解説を入力してクイズを保存できる
- [ ] 保存済みクイズの一覧が表示される
- [ ] クイズの編集・削除ができる
- [ ] 複数クイズをまとめたセットを作成できる

---

## 機能要件

### FR-001: スワイプ操作
- タッチ・マウス両方のドラッグ操作に対応
- スワイプ方向（左/右）と選択肢（A/B）のマッピングはUIで明示
- スワイプキャンセル（途中で戻す）に対応
- タップ操作のフォールバックも提供（アクセシビリティ）

### FR-002: 感情リアクションキャラクター
- 常時画面上に表示されるキャラクターコンポーネント
- 状態（待機中・ドラッグ中・正解・不正解）に応じたビジュアル切り替え
- アニメーションはFramer Motionで実装

### FR-003: クイズデータモデル
- 問題文（テキスト）
- 選択肢A・B（テキスト）
- 正解（A or B）
- 解説（テキスト、任意）
- クイズセット（複数問題のグループ、タイトル付き）

### FR-004: リザルト表示
- プレイセッション中の回答履歴を保持
- 全問回答後にまとめて解説を表示
- 個別問題の正誤状態を保持・表示

### FR-005: 管理画面
- クイズの作成・読み取り・更新・削除（CRUD）
- クイズセットの作成・管理
- プレビュー機能（作成中のクイズを確認できる）

---

## 非機能要件

- **レスポンシブ対応**: スマートフォン・タブレット・PCすべてで動作（モバイルファースト）
- **アニメーション性能**: スワイプ操作が60fps以上でスムーズに動作
- **アクセシビリティ**: スワイプ操作が困難なユーザー向けにタップ操作も提供
- **データ永続性**: ブラウザのローカルストレージでクイズデータを保持（MVP段階）
